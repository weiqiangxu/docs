# 布隆过滤器

布隆过滤器（Bloom Filter）是一种空间效率极高的概率型数据结构，用于判断一个元素是否在一个集合中。

> 组成是位数组、一组哈希函数。快速地判断元素是否可能存在于集合中，但有一定的误判概率。


创建一个长度为m的位数组，所有位初始化为 0。定义k个不同的哈希函数。当一个元素加入集合时，通过这k个哈希函数分别计算出k个索引值，然后将位数组中对应的这k个位置的位设置为 1。查询元素是否存在的时候，这k个位置的位全部为 1，那么这个元素可能存在于集合中，如果这`k个位置中有任何一个位为 0`，那么这个元素`一定不存在于集合中`。


### 误判情况和概率

原因是多个元素可能会通过哈希函数映射到位数组中的相同位置。即使1个元素实际上没有被插入到布隆过滤器中，由于其他元素的插入导致其对应的位都被设置为 1，从而被误判为可能存在。误判概率与位数组的大小`m`、哈希函数的个数`k`以及插入元素的个数`n`有关，增加位数组的长度`m`、适当选择哈希函数的个数`k`可以降低误判概率。